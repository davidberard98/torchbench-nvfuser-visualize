<!DOCTYPE html>
<html>
  <head>
    <title></title>
    <script>
      function setDataMessage(msg) {
        const dataElement = document.getElementById("data");
        dataElement.appendChild(
          document.createTextNode(msg)
        );
      }

      function loadTableFromUrl(url) {
        fetch(url)
          .then(
            async function(response) {
              const text = await response.text();
            })
      }

      window.onload = async function() {
        const searchParams = (new URL(document.location)).searchParams;
        if (!searchParams.has("url")) {
          console.log("!has_url")
          setDataMessage("No URL provided (e.g. ?url=[...])")
          return;
        }
        const url = searchParams.get("url");
        setDataMessage("Loading from " + url);
        loadTableFromUrl(url);

      };
    </script>
  </head>
  <body>
    <h1>Hello World</h1>
    <div id="data"></div>
  </body>
</html>
